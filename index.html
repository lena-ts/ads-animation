<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Animation Test</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
    <div class="card">
        <div class="close-overlay hidden">
            <div class="cl-inner">
                <div class="cl-content">
                    <div class="cl-title">
                        <span>Скрыть рекламу:</span>
                        <div class="cl-icon"><img src="images/close.svg" width="16" height="16"/></div>
                    </div>
                    <div class="cl-table">
                        <div class="cl-cell cl-icon">Не интересуюсь этой темой</div>
                        <div class="cl-cell cl-icon">Товар куплен или услуга найдена</div>
                        <div class="cl-cell cl-icon">Нарушает закон или спам</div>
                        <div class="cl-cell cl-icon">Мешает простмотру контента</div>
                    </div>
                </div>

            </div>
        </div>
        <div class="image">
            <div class="app-icon"><img src="images/tobuy-icon.png"/></div>
            <div class="image-shade"></div>
        </div>
        <div id="content" class="content">
            <div class="content-inner">
                <div class="content-inner-wrapper">
                    <div class="ad-body">
                        <div class="title-container">
                            <div class="title">ToBuy список покупок</div>
                            <div class="replacing-title hidden">
                                Смотрите список покупок в приложении на часах Apple Watch <br>во время шоппинга
                            </div>
                        </div>
                        <div class="rating">
                            <img src="images/stars.svg" width="100" height="16"/>
                            <span>3,9</span>
                        </div>
                        <div class="footer">
                            <div class="link">
                                <img src="images/fav.png" width="12" height="12"/>
                                <a href="#">tobuyapp.com</a>
                            </div>
                            <div class="ads">
                                <span>Реклама</span>
                                <span>4+</span>
                            </div>
                        </div>
                    </div>
                    <div class="ad-action"><img src="images/ad-action.svg"/></div>
                </div>
                <div class="action" id="close-action"><div class="action-image"></div> </div>
            </div>
        </div>
    </div>
</div>
<div id="trigger-button">
    <span class="in">Включить анимацию</span>
    <span class="out hidden">Выключить анимацию</span>
</div>
</body>
<script
        src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
        crossorigin="anonymous"></script>
<script>
    $(document).ready(function(){
        var explode = function(){
            $('.ad-action').css("transform", 'scale(1.2)')
        };
        $('#trigger-button').click(function(){
            if($(this).hasClass('toggled') === false) {
                $('.in').addClass('hidden')
                $('.out').removeClass('hidden')
                $('.out').removeClass('hidden')
                $('#content').addClass('content-expand');
                $('.ad-action').removeClass('hidden')
                $('.content-inner-wrapper').addClass('content-inner-wrapper-opened')
                // $('.ad-action').delay(1500).addClass('ad-action-animate')
                // $('.ad-action').delay(1500).css("transform", 'scale(1)')
                $('.title').fadeOut( 400 )
                $('.replacing-title').delay( 200 ).fadeIn( 800 )
                // $('.title').addClass('hidden')
                // $('.replacing-title').removeClass('hidden')
                $(this).addClass('toggled');
                setTimeout(explode, 500);
            }
            else {
                $(this).removeClass('toggled');
                $('.in').removeClass('hidden')
                $('.out').addClass('hidden')
                $('#content').removeClass('content-expand');
                $('.ad-action').addClass('hidden')
                $('.content-inner-wrapper').removeClass('content-inner-wrapper-opened')
                // $('.ad-action').removeClass('ad-action-animate')
                $('.ad-action').delay(500).css("transform", 'scale(0)')
                $('.title').delay( 300 ).fadeIn( 400 )
                $('.replacing-title').fadeOut( 400 )
            }
        })

        $('#close-action').click(function(){
            $('.close-overlay').removeClass('hidden')
            $('#trigger-button').css('opacity', '0.4')
        })
        $('.cl-icon').click(function(){
            $('.close-overlay').addClass('hidden')
            $('#trigger-button').css('opacity', '1')
        })
    })
</script>